(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["393c65f4"],{2171:function(t,e,s){},"44d9":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{attrs:{padding:""}},[t.edit?s("div",{staticClass:"edit q-my-md"},[s("h2",[t._v("Edit Chapter")]),s("q-input",{staticClass:"q-my-md",attrs:{"float-label":"Chapter Title"},model:{value:t.chapter.title,callback:function(e){t.$set(t.chapter,"title",e)},expression:"chapter.title"}}),s("q-input",{staticClass:"q-my-md",attrs:{rows:"5",type:"textarea","float-label":"Description"},model:{value:t.chapter.description,callback:function(e){t.$set(t.chapter,"description",e)},expression:"chapter.description"}}),s("q-input",{staticClass:"q-my-md",attrs:{rows:"5",type:"textarea","float-label":"Overview"},model:{value:t.chapter.overview,callback:function(e){t.$set(t.chapter,"overview",e)},expression:"chapter.overview"}}),s("q-editor",{staticClass:"q-my-md",attrs:{"toolbar-text-color":"white","max-height":"600px","toolbar-toggle-color":"yellow-8","toolbar-flat":"","toolbar-bg":"primary",toolbar:[["bold","italic","underline"],["unordered","ordered","outdent","indent"],[{label:t.$q.i18n.editor.formatting,icon:t.$q.icon.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","h5","h6","code"]}],["hr","link"]]},model:{value:t.chapter.content,callback:function(e){t.$set(t.chapter,"content",e)},expression:"chapter.content"}}),s("div",{staticClass:"quiz-content"},[s("h2",{staticClass:"q-my-md"},[t._v("Quiz")]),t._l(t.questions,function(e,i){return s("div",{key:i,staticClass:"questions"},[t._v("\n        "+t._s(t.questions)+"\n        "),s("q-input",{staticClass:"q-my-md",attrs:{"float-label":"Question",type:"textarea",rows:"5"},model:{value:e.question,callback:function(s){t.$set(e,"question",s)},expression:"question.question"}}),s("q-select",{staticClass:"q-my-md",attrs:{"float-label":"Type of Question",options:t.quizType},model:{value:e.type,callback:function(s){t.$set(e,"type",s)},expression:"question.type"}}),"mc"===e.type?s("q-option-group",{staticClass:"q-my-md",attrs:{color:"secondary",type:"radio",options:t.choices},model:{value:e.answer,callback:function(s){t.$set(e,"answer",s)},expression:"question.answer"}}):t._e(),"mc"===e.type?s("q-input",{staticClass:"q-my-md",attrs:{"float-label":"Choice 1"},model:{value:t.option[0].label,callback:function(e){t.$set(t.option[0],"label",e)},expression:"option[0].label"}}):t._e(),"mc"===e.type?s("q-input",{staticClass:"q-my-md",attrs:{"float-label":"Choice 2"},model:{value:t.option[1].label,callback:function(e){t.$set(t.option[1],"label",e)},expression:"option[1].label"}}):t._e(),"mc"===e.type?s("q-input",{staticClass:"q-my-md",attrs:{"float-label":"Choice 3"},model:{value:t.option[2].label,callback:function(e){t.$set(t.option[2],"label",e)},expression:"option[2].label"}}):t._e(),s("q-input",{staticClass:"q-my-md",attrs:{"float-label":"Answer"},model:{value:e.answer,callback:function(s){t.$set(e,"answer",s)},expression:"question.answer"}}),t.questions.length>1?s("q-btn",{staticClass:"q-mr-md",attrs:{color:"red",label:"Delete Question",icon:"delete"},on:{click:function(s){t.deleteQuestion(i,e.key)}}}):t._e()],1)}),s("div",{staticClass:"q-my-md"},[s("q-btn",{attrs:{color:"primary",label:"Add Question",icon:"add"},on:{click:t.addQuestion}}),s("q-btn",{staticClass:"q-mx-md",attrs:{color:"green",label:"Save Questions",icon:"save"},on:{click:t.addQuiz}})],1)],2)],1):s("div",{staticClass:"text q-ma-md"},[s("h2",{staticClass:"text-weight-bold q-display-2"},[t._v(t._s(t.lectures.title))]),s("div",{domProps:{innerHTML:t._s(t.lectures.content)}})]),t.edit?s("q-btn",{staticClass:"q-mr-md",attrs:{icon:"save",label:"Save",color:"green",size:"md"},on:{click:t.update}}):s("q-btn",{staticClass:"q-ma-md fixed-bottom-right",attrs:{round:"",icon:"edit",color:"primary",size:"md"},on:{click:function(e){t.editChapter(t.lectures)}}}),t.edit?s("q-btn",{staticClass:"q-mr-md",attrs:{icon:"cancel",label:"Cancel",color:"red",size:"md"},on:{click:t.cancelChapter}}):t._e()],1)},o=[];i._withStripped=!0;s("ac6a");var a={data:function(){return{edit:!1,quizType:[{label:"Multiple Choice",value:"mc"},{label:"Identification",value:"id"}],choices:[{label:"Option 1",value:"op1"},{label:"Option 2",value:"op2"},{label:"Option 3",value:"op3"}],chapter:{title:"",content:"",createdAt:"",creatorId:"",creator:"",description:""},quiz:{lessonId:this.$route.params.id,createdAt:Date.now(),creator:this.$store.getters["getUser"].email,creatorId:this.$store.getters["getUser"].uid},questions:[]}},methods:{addQuiz:function(){var t=this;console.log(this.quizes.length>0),this.quizes.length>0?this.questions.forEach(function(e){console.log(e),t.$db.collection("quizes").doc(t.$route.params.id).collection("questions").doc(e.key).set(e)}):this.questions.forEach(function(e){console.log(e),t.$db.collection("quizes").doc(t.$route.params.id).collection("questions").doc().set(e)})},update:function(){var t=this;this.$db.collection("lessons").doc(this.$route.params.id).collection("chapters").doc(this.$route.params.chapter_id).set(this.chapter).then(function(){t.$db.collection("quizes").doc(t.$route.params.id).set({createdAt:Date.now(),creator:t.$store.getters["getUser"].email,creatorId:t.$store.getters["getUser"].uid})}).then(function(){t.$q.notify({message:"Chapter Updated Successfully!",type:"positive",icon:"done"}),t.cancelChapter()}).catch(function(e){t.$q.notify({message:e.message,type:"error",icon:"error"})})},showQuestions:function(){var t=this;this.quizes.length>0?this.quizes.forEach(function(e){t.questions.push({key:e[".key"],chapterId:e.chapterId,question:e.question,choices:e.choices,answer:e.answer,type:e.type,createdAt:e.createdAt})}):this.questions.push({chapterId:this.$route.params.chapter_id,question:"",choices:"",answer:"",type:"",createdAt:Date.now()})},editChapter:function(t){console.log("data: ",t),this.edit=!this.edit,this.chapter.title=t.title,this.chapter.content=t.content,this.chapter.createdAt=t.createdAt,this.chapter.creatorId=t.creatorId,this.chapter.creator=t.creator,this.chapter.description=t.description,this.showQuestions()},addQuestion:function(){this.questions.push({chapterId:this.$route.params.chapter_id,question:"",choices:"",answer:"",type:"",createdAt:Date.now()})},deleteQuestion:function(t,e){this.questions.splice(t,1),console.log(t),this.$db.collection("quizes").doc(this.$route.params.id).collection("questions").doc(e).delete()},cancelChapter:function(){this.edit=!this.edit,this.chapter.title="",this.chapter.content="",this.chapter.createdAt="",this.chapter.creatorId="",this.chapter.creator="",this.chapter.description="",this.questions=[]}},computed:{isEmptyQuiz:function(){return this.quizes.length>0}},firestore:function(){return{lectures:this.$db.collection("lessons").doc(this.$route.params.id).collection("chapters").doc(this.$route.params.chapter_id),quizes:this.$db.collection("quizes").doc(this.$route.params.id).collection("questions").where("chapterId","==",this.$route.params.chapter_id)}}},c=a,n=(s("ac6e"),s("2877")),r=Object(n["a"])(c,i,o,!1,null,null,null);r.options.__file="chapter.vue";e["default"]=r.exports},ac6e:function(t,e,s){"use strict";var i=s("2171"),o=s.n(i);o.a}}]);