(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["393c65f4"],{2171:function(t,e,i){},"44d9":function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",{attrs:{padding:""}},[t.edit?i("div",{staticClass:"edit"},[i("h2",[t._v("Edit Chapter")]),i("q-input",{staticClass:"q-my-md",attrs:{"float-label":"Title"},model:{value:t.chapter.title,callback:function(e){t.$set(t.chapter,"title",e)},expression:"chapter.title"}}),i("q-input",{staticClass:"q-my-md",attrs:{"float-label":"Description",type:"textarea",rows:"5"},model:{value:t.chapter.description,callback:function(e){t.$set(t.chapter,"description",e)},expression:"chapter.description"}}),i("q-editor",{staticClass:"q-my-md",attrs:{"toolbar-text-color":"white","max-height":"600px","toolbar-toggle-color":"yellow-8","toolbar-flat":"","toolbar-bg":"primary",toolbar:[["bold","italic","underline"],["unordered","ordered","outdent","indent"],[{label:t.$q.i18n.editor.formatting,icon:t.$q.icon.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","h5","h6","code"]}],["hr","link"]]},model:{value:t.chapter.content,callback:function(e){t.$set(t.chapter,"content",e)},expression:"chapter.content"}}),i("div",{staticClass:"quiz-content"},[i("h2",[t._v("Quiz")]),i("q-input",{attrs:{"float-label":"Question",type:"textarea",rows:"5"},model:{value:t.quiz.questions.question,callback:function(e){t.$set(t.quiz.questions,"question",e)},expression:"quiz.questions.question"}}),i("q-select",{attrs:{"float-label":"Type of Question",options:t.quizType},model:{value:t.quiz.questions.type,callback:function(e){t.$set(t.quiz.questions,"type",e)},expression:"quiz.questions.type"}}),"mc"===t.quiz.questions.type?i("q-option-group",{attrs:{color:"secondary",type:"radio",options:t.choices},model:{value:t.quiz.questions.answer,callback:function(e){t.$set(t.quiz.questions,"answer",e)},expression:"quiz.questions.answer"}}):t._e(),"mc"===t.quiz.questions.type?i("q-input",{attrs:{"float-label":"Choice 1"},model:{value:t.option[0].label,callback:function(e){t.$set(t.option[0],"label",e)},expression:"option[0].label"}}):t._e(),"mc"===t.quiz.questions.type?i("q-input",{attrs:{"float-label":"Choice 2"},model:{value:t.option[1].label,callback:function(e){t.$set(t.option[1],"label",e)},expression:"option[1].label"}}):t._e(),"mc"===t.quiz.questions.type?i("q-input",{attrs:{"float-label":"Choice 3"},model:{value:t.option[2].label,callback:function(e){t.$set(t.option[2],"label",e)},expression:"option[2].label"}}):t._e(),i("q-input",{attrs:{"float-label":"Answer"},model:{value:t.quiz.questions.answer,callback:function(e){t.$set(t.quiz.questions,"answer",e)},expression:"quiz.questions.answer"}})],1)],1):i("div",{staticClass:"text q-ma-md"},[i("h2",{staticClass:"text-weight-bold q-display-2"},[t._v(t._s(t.lectures.title))]),i("div",{domProps:{innerHTML:t._s(t.lectures.content)}})]),t.edit?i("q-btn",{staticClass:"q-my-md",attrs:{icon:"save",label:"Save",color:"green",size:"md"},on:{click:t.update}}):i("q-btn",{staticClass:"q-ma-md fixed-bottom-right",attrs:{round:"",icon:"edit",color:"primary",size:"md"},on:{click:function(e){t.editChapter(t.lectures)}}}),t.edit?i("q-btn",{staticClass:"q-my-md",attrs:{icon:"cancel",label:"Cancel",color:"red",size:"md"},on:{click:t.cancelChapter}}):t._e()],1)},s=[];o._withStripped=!0;var a={data:function(){return{edit:!1,option:[{label:"",value:""},{label:"",value:""},{label:"",value:""}],quizType:[{label:"Multiple Choice",value:"mc"},{label:"Identification",value:"id"}],choices:[{label:"Option 1",value:"op1"},{label:"Option 2",value:"op2"},{label:"Option 3",value:"op3"}],ref:this.$db.collection("lessons").doc(this.$route.params.id).collection("chapters").doc(this.$route.params.chapter_id),chapter:{title:"",content:"",createdAt:"",creatorId:"",creator:"",description:""},quiz:{questions:{chapterId:this.$route.params.chapter_id,question:"",choices:"",answer:"",type:"",createdAt:Date.now(),creator:this.$store.getters["getUser"].email,creatorId:this.$store.getters["getUser"].uid},lessonId:this.$route.params.id,createdAt:Date.now(),creator:this.$store.getters["getUser"].email,creatorId:this.$store.getters["getUser"].uid}}},methods:{update:function(){var t=this;this.$db.collection("lessons").doc(this.$route.params.id).collection("chapters").doc(this.$route.params.chapter_id).set(this.chapter).then(function(){t.$db.collection("quizes").doc(t.$route.params.id).set({createdAt:Date.now(),creator:t.$store.getters["getUser"].email,creatorId:t.$store.getters["getUser"].uid}).then(function(){t.$db.collection("quizes").doc(t.$route.params.id).collection("questions").doc(t.$route.params.chapter_id).set(t.quiz.questions)}),t.$q.notify({message:"Chapter Updated Successfully!",type:"positive",icon:"done"}),t.cancelChapter()}).catch(function(e){t.$q.notify({message:e.message,type:"error",icon:"error"})})},editChapter:function(t){console.log("data: ",t),this.edit=!this.edit,this.chapter.title=t.title,this.chapter.content=t.content,this.chapter.createdAt=t.createdAt,this.chapter.creatorId=t.creatorId,this.chapter.creator=t.creator,this.chapter.description=t.description},cancelChapter:function(){this.edit=!this.edit,this.chapter.title="",this.chapter.content="",this.chapter.createdAt="",this.chapter.creatorId="",this.chapter.creator="",this.chapter.description=""}},firestore:function(){return{lectures:this.$db.collection("lessons").doc(this.$route.params.id).collection("chapters").doc(this.$route.params.chapter_id)}}},r=a,c=(i("ac6e"),i("2877")),n=Object(c["a"])(r,o,s,!1,null,null,null);n.options.__file="chapter.vue";e["default"]=n.exports},ac6e:function(t,e,i){"use strict";var o=i("2171"),s=i.n(o);s.a}}]);